Title: Zipf's law on Twitter
Date: 2017-03-06 23:14:01+00:00

Last night I watched a video from the channel "Vsauce" about something called Zipf's Law. 
<center><iframe width="560" height="315" src="https://www.youtube.com/embed/fCn8zs912OE" frameborder="0" allowfullscreen></iframe></center>

In short, this law states that in natural languages, the frequency of a given words usage is inversely proportional to it's rank.  In other words, the second most commonly used word will appear half as often as the most,  the third most common word will appear a third as often as the first and so on.  According to the video, this seems to hold true for all human languages.  Neat!

What if that language had some sort of artificial constraint? I decided to mine Twitter for text and see if Zip's law would hold true.  I wrote a quick python program to use Twitters streaming api and saved every word into a sqlite db along with the number of occurrences.  The following were the top 50 I found in about 1.5000 hours of mining:

<table>
<tbody>
<tr>
<td>
<p>Word</p>
</td>
<td>
<p>Count</p>
</td>
<td>
<p>Percentage</p>
</td>
<td>
<p>Frequency</p>
</td>
<td>
<p>Ideal Frequency</p>
</td>
<td>
<p>Ideal frequency (scaled)</p>
</td>
<td>
<p>Frequency difference</p>
</td>
</tr>
<tr>
<td>
<p>the</p>
</td>
<td>
<p>852</p>
</td>
<td>
<p>9.0235</p>
</td>
<td>
<p>1</p>
</td>
<td>
<p>1</p>
</td>
<td>
<p>852</p>
</td>
<td>
<p>0</p>
</td>
</tr>
<tr>
<td>
<p>to</p>
</td>
<td>
<p>715</p>
</td>
<td>
<p>7.5725</p>
</td>
<td>
<p>0.8392</p>
</td>
<td>
<p>0.5000</p>
</td>
<td>
<p>426</p>
</td>
<td>
<p>0.3392</p>
</td>
</tr>
<tr>
<td>
<p>a</p>
</td>
<td>
<p>549</p>
</td>
<td>
<p>5.8144</p>
</td>
<td>
<p>0.6444</p>
</td>
<td>
<p>0.3333</p>
</td>
<td>
<p>284</p>
</td>
<td>
<p>0.3110</p>
</td>
</tr>
<tr>
<td>
<p>you</p>
</td>
<td>
<p>448</p>
</td>
<td>
<p>4.7448</p>
</td>
<td>
<p>0.5258</p>
</td>
<td>
<p>0.2500</p>
</td>
<td>
<p>213</p>
</td>
<td>
<p>0.2758</p>
</td>
</tr>
<tr>
<td>
<p>i</p>
</td>
<td>
<p>430</p>
</td>
<td>
<p>4.5541</p>
</td>
<td>
<p>0.5047</p>
</td>
<td>
<p>0.2000</p>
</td>
<td>
<p>170.4000</p>
</td>
<td>
<p>0.3047</p>
</td>
</tr>
<tr>
<td>
<p>and</p>
</td>
<td>
<p>408</p>
</td>
<td>
<p>4.3211</p>
</td>
<td>
<p>0.4789</p>
</td>
<td>
<p>0.1667</p>
</td>
<td>
<p>142</p>
</td>
<td>
<p>0.3122</p>
</td>
</tr>
<tr>
<td>
<p>of</p>
</td>
<td>
<p>389</p>
</td>
<td>
<p>4.1199</p>
</td>
<td>
<p>0.4566</p>
</td>
<td>
<p>0.1429</p>
</td>
<td>
<p>121.7143</p>
</td>
<td>
<p>0.3137</p>
</td>
</tr>
<tr>
<td>
<p>is</p>
</td>
<td>
<p>364</p>
</td>
<td>
<p>3.8551</p>
</td>
<td>
<p>0.4272</p>
</td>
<td>
<p>0.1250</p>
</td>
<td>
<p>106.5000</p>
</td>
<td>
<p>0.3022</p>
</td>
</tr>
<tr>
<td>
<p>in</p>
</td>
<td>
<p>359</p>
</td>
<td>
<p>3.8022</p>
</td>
<td>
<p>0.4214</p>
</td>
<td>
<p>0.1111</p>
</td>
<td>
<p>94.6667</p>
</td>
<td>
<p>0.3103</p>
</td>
</tr>
<tr>
<td>
<p>for</p>
</td>
<td>
<p>328</p>
</td>
<td>
<p>3.4738</p>
</td>
<td>
<p>0.3850</p>
</td>
<td>
<p>0.1000</p>
</td>
<td>
<p>85.2000</p>
</td>
<td>
<p>0.2850</p>
</td>
</tr>
<tr>
<td>
<p>on</p>
</td>
<td>
<p>246</p>
</td>
<td>
<p>2.6054</p>
</td>
<td>
<p>0.2887</p>
</td>
<td>
<p>0.0909</p>
</td>
<td>
<p>77.4545</p>
</td>
<td>
<p>0.1978</p>
</td>
</tr>
<tr>
<td>
<p>this</p>
</td>
<td>
<p>246</p>
</td>
<td>
<p>2.6054</p>
</td>
<td>
<p>0.2887</p>
</td>
<td>
<p>0.0833</p>
</td>
<td>
<p>71</p>
</td>
<td>
<p>0.2054</p>
</td>
</tr>
<tr>
<td>
<p>my</p>
</td>
<td>
<p>203</p>
</td>
<td>
<p>2.1500</p>
</td>
<td>
<p>0.2383</p>
</td>
<td>
<p>0.0769</p>
</td>
<td>
<p>65.5385</p>
</td>
<td>
<p>0.1613</p>
</td>
</tr>
<tr>
<td>
<p>your</p>
</td>
<td>
<p>193</p>
</td>
<td>
<p>2.0441</p>
</td>
<td>
<p>0.2265</p>
</td>
<td>
<p>0.0714</p>
</td>
<td>
<p>60.8571</p>
</td>
<td>
<p>0.1551</p>
</td>
</tr>
<tr>
<td>
<p>with</p>
</td>
<td>
<p>190</p>
</td>
<td>
<p>2.0123</p>
</td>
<td>
<p>0.2230</p>
</td>
<td>
<p>0.0667</p>
</td>
<td>
<p>56.8000</p>
</td>
<td>
<p>0.1563</p>
</td>
</tr>
<tr>
<td>
<p>that</p>
</td>
<td>
<p>187</p>
</td>
<td>
<p>1.9805</p>
</td>
<td>
<p>0.2195</p>
</td>
<td>
<p>0.0625</p>
</td>
<td>
<p>53.2500</p>
</td>
<td>
<p>0.1570</p>
</td>
</tr>
<tr>
<td>
<p>it</p>
</td>
<td>
<p>152</p>
</td>
<td>
<p>1.6098</p>
</td>
<td>
<p>0.1784</p>
</td>
<td>
<p>0.0588</p>
</td>
<td>
<p>50.1176</p>
</td>
<td>
<p>0.1196</p>
</td>
</tr>
<tr>
<td>
<p>me</p>
</td>
<td>
<p>144</p>
</td>
<td>
<p>1.5251</p>
</td>
<td>
<p>0.1690</p>
</td>
<td>
<p>0.0556</p>
</td>
<td>
<p>47.3333</p>
</td>
<td>
<p>0.1135</p>
</td>
</tr>
<tr>
<td>
<p>be</p>
</td>
<td>
<p>144</p>
</td>
<td>
<p>1.5251</p>
</td>
<td>
<p>0.1690</p>
</td>
<td>
<p>0.0526</p>
</td>
<td>
<p>44.8421</p>
</td>
<td>
<p>0.1164</p>
</td>
</tr>
<tr>
<td>
<p>are</p>
</td>
<td>
<p>134</p>
</td>
<td>
<p>1.4192</p>
</td>
<td>
<p>0.1573</p>
</td>
<td>
<p>0.0500</p>
</td>
<td>
<p>42.6000</p>
</td>
<td>
<p>0.1073</p>
</td>
</tr>
<tr>
<td>
<p>at</p>
</td>
<td>
<p>130</p>
</td>
<td>
<p>1.3768</p>
</td>
<td>
<p>0.1526</p>
</td>
<td>
<p>0.0476</p>
</td>
<td>
<p>40.5714</p>
</td>
<td>
<p>0.1050</p>
</td>
</tr>
<tr>
<td>
<p>have</p>
</td>
<td>
<p>129</p>
</td>
<td>
<p>1.3662</p>
</td>
<td>
<p>0.1514</p>
</td>
<td>
<p>0.0455</p>
</td>
<td>
<p>38.7273</p>
</td>
<td>
<p>0.1060</p>
</td>
</tr>
<tr>
<td>
<p>so</p>
</td>
<td>
<p>123</p>
</td>
<td>
<p>1.3027</p>
</td>
<td>
<p>0.1444</p>
</td>
<td>
<p>0.0435</p>
</td>
<td>
<p>37.0435</p>
</td>
<td>
<p>0.1009</p>
</td>
</tr>
<tr>
<td>
<p>not</p>
</td>
<td>
<p>116</p>
</td>
<td>
<p>1.2286</p>
</td>
<td>
<p>0.1362</p>
</td>
<td>
<p>0.0417</p>
</td>
<td>
<p>35.5000</p>
</td>
<td>
<p>0.0945</p>
</td>
</tr>
<tr>
<td>
<p>was</p>
</td>
<td>
<p>109</p>
</td>
<td>
<p>1.1544</p>
</td>
<td>
<p>0.1279</p>
</td>
<td>
<p>0.0400</p>
</td>
<td>
<p>34.0800</p>
</td>
<td>
<p>0.0879</p>
</td>
</tr>
<tr>
<td>
<p>like</p>
</td>
<td>
<p>108</p>
</td>
<td>
<p>1.1438</p>
</td>
<td>
<p>0.1268</p>
</td>
<td>
<p>0.0385</p>
</td>
<td>
<p>32.7692</p>
</td>
<td>
<p>0.0883</p>
</td>
</tr>
<tr>
<td>
<p>but</p>
</td>
<td>
<p>104</p>
</td>
<td>
<p>1.1015</p>
</td>
<td>
<p>0.1221</p>
</td>
<td>
<p>0.0370</p>
</td>
<td>
<p>31.5556</p>
</td>
<td>
<p>0.0850</p>
</td>
</tr>
<tr>
<td>
<p>we</p>
</td>
<td>
<p>103</p>
</td>
<td>
<p>1.0909</p>
</td>
<td>
<p>0.1209</p>
</td>
<td>
<p>0.0357</p>
</td>
<td>
<p>30.4286</p>
</td>
<td>
<p>0.0852</p>
</td>
</tr>
<tr>
<td>
<p>by</p>
</td>
<td>
<p>101</p>
</td>
<td>
<p>1.0697</p>
</td>
<td>
<p>0.1185</p>
</td>
<td>
<p>0.0345</p>
</td>
<td>
<p>29.3793</p>
</td>
<td>
<p>0.0841</p>
</td>
</tr>
<tr>
<td>
<p>just</p>
</td>
<td>
<p>99</p>
</td>
<td>
<p>1.0485</p>
</td>
<td>
<p>0.1162</p>
</td>
<td>
<p>0.0333</p>
</td>
<td>
<p>28.4000</p>
</td>
<td>
<p>0.0829</p>
</td>
</tr>
<tr>
<td>
<p>from</p>
</td>
<td>
<p>98</p>
</td>
<td>
<p>1.0379</p>
</td>
<td>
<p>0.1150</p>
</td>
<td>
<p>0.0323</p>
</td>
<td>
<p>27.4839</p>
</td>
<td>
<p>0.0828</p>
</td>
</tr>
<tr>
<td>
<p>one</p>
</td>
<td>
<p>96</p>
</td>
<td>
<p>1.0167</p>
</td>
<td>
<p>0.1127</p>
</td>
<td>
<p>0.0312</p>
</td>
<td>
<p>26.6250</p>
</td>
<td>
<p>0.0814</p>
</td>
</tr>
<tr>
<td>
<p>all</p>
</td>
<td>
<p>93</p>
</td>
<td>
<p>0.9850</p>
</td>
<td>
<p>0.1092</p>
</td>
<td>
<p>0.0303</p>
</td>
<td>
<p>25.8182</p>
</td>
<td>
<p>0.0789</p>
</td>
</tr>
<tr>
<td>
<p>can</p>
</td>
<td>
<p>93</p>
</td>
<td>
<p>0.9850</p>
</td>
<td>
<p>0.1092</p>
</td>
<td>
<p>0.0294</p>
</td>
<td>
<p>25.0588</p>
</td>
<td>
<p>0.0797</p>
</td>
</tr>
<tr>
<td>
<p>he</p>
</td>
<td>
<p>92</p>
</td>
<td>
<p>0.9744</p>
</td>
<td>
<p>0.1080</p>
</td>
<td>
<p>0.0286</p>
</td>
<td>
<p>24.3429</p>
</td>
<td>
<p>0.0794</p>
</td>
</tr>
<tr>
<td>
<p>what</p>
</td>
<td>
<p>89</p>
</td>
<td>
<p>0.9426</p>
</td>
<td>
<p>0.1045</p>
</td>
<td>
<p>0.0278</p>
</td>
<td>
<p>23.6667</p>
</td>
<td>
<p>0.0767</p>
</td>
</tr>
<tr>
<td>
<p>when</p>
</td>
<td>
<p>88</p>
</td>
<td>
<p>0.9320</p>
</td>
<td>
<p>0.1033</p>
</td>
<td>
<p>0.0270</p>
</td>
<td>
<p>23.0270</p>
</td>
<td>
<p>0.0763</p>
</td>
</tr>
<tr>
<td>
<p>who</p>
</td>
<td>
<p>84</p>
</td>
<td>
<p>0.8896</p>
</td>
<td>
<p>0.0986</p>
</td>
<td>
<p>0.0263</p>
</td>
<td>
<p>22.4211</p>
</td>
<td>
<p>0.0723</p>
</td>
</tr>
<tr>
<td>
<p>if</p>
</td>
<td>
<p>83</p>
</td>
<td>
<p>0.8791</p>
</td>
<td>
<p>0.0974</p>
</td>
<td>
<p>0.0256</p>
</td>
<td>
<p>21.8462</p>
</td>
<td>
<p>0.0718</p>
</td>
</tr>
<tr>
<td>
<p>will</p>
</td>
<td>
<p>83</p>
</td>
<td>
<p>0.8791</p>
</td>
<td>
<p>0.0974</p>
</td>
<td>
<p>0.0250</p>
</td>
<td>
<p>21.3000</p>
</td>
<td>
<p>0.0724</p>
</td>
</tr>
<tr>
<td>
<p>out</p>
</td>
<td>
<p>80</p>
</td>
<td>
<p>0.8473</p>
</td>
<td>
<p>0.0939</p>
</td>
<td>
<p>0.0244</p>
</td>
<td>
<p>20.7805</p>
</td>
<td>
<p>0.0695</p>
</td>
</tr>
<tr>
<td>
<p>as</p>
</td>
<td>
<p>79</p>
</td>
<td>
<p>0.8367</p>
</td>
<td>
<p>0.0927</p>
</td>
<td>
<p>0.0238</p>
</td>
<td>
<p>20.2857</p>
</td>
<td>
<p>0.0689</p>
</td>
</tr>
<tr>
<td>
<p>new</p>
</td>
<td>
<p>78</p>
</td>
<td>
<p>0.8261</p>
</td>
<td>
<p>0.0915</p>
</td>
<td>
<p>0.0233</p>
</td>
<td>
<p>19.8140</p>
</td>
<td>
<p>0.0683</p>
</td>
</tr>
<tr>
<td>
<p>about</p>
</td>
<td>
<p>77</p>
</td>
<td>
<p>0.8155</p>
</td>
<td>
<p>0.0904</p>
</td>
<td>
<p>0.0227</p>
</td>
<td>
<p>19.3636</p>
</td>
<td>
<p>0.0676</p>
</td>
</tr>
<tr>
<td>
<p>more</p>
</td>
<td>
<p>76</p>
</td>
<td>
<p>0.8049</p>
</td>
<td>
<p>0.0892</p>
</td>
<td>
<p>0.0222</p>
</td>
<td>
<p>18.9333</p>
</td>
<td>
<p>0.0670</p>
</td>
</tr>
<tr>
<td>
<p>do</p>
</td>
<td>
<p>74</p>
</td>
<td>
<p>0.7837</p>
</td>
<td>
<p>0.0869</p>
</td>
<td>
<p>0.0217</p>
</td>
<td>
<p>18.5217</p>
</td>
<td>
<p>0.0651</p>
</td>
</tr>
<tr>
<td>
<p>how</p>
</td>
<td>
<p>73</p>
</td>
<td>
<p>0.7731</p>
</td>
<td>
<p>0.0857</p>
</td>
<td>
<p>0.0213</p>
</td>
<td>
<p>18.1277</p>
</td>
<td>
<p>0.0644</p>
</td>
</tr>
<tr>
<td>
<p>up</p>
</td>
<td>
<p>68</p>
</td>
<td>
<p>0.7202</p>
</td>
<td>
<p>0.0798</p>
</td>
<td>
<p>0.0208</p>
</td>
<td>
<p>17.7500</p>
</td>
<td>
<p>0.0590</p>
</td>
</tr>
<tr>
<td>
<p>get</p>
</td>
<td>
<p>68</p>
</td>
<td>
<p>0.7202</p>
</td>
<td>
<p>0.0798</p>
</td>
<td>
<p>0.0204</p>
</td>
<td>
<p>17.3878</p>
</td>
<td>
<p>0.0594</p>
</td>
</tr>
<tr>
<td>
<p>no</p>
</td>
<td>
<p>68</p>
</td>
<td>
<p>0.7202</p>
</td>
<td>
<p>0.0798</p>
</td>
<td>
<p>0.0200</p>
</td>
<td>
<p>17.0400</p>
</td>
<td>
<p>0.0598</p>
</td>
</tr>
</tbody>
</table>

To visualize that a bit better, here is a chart of the frequency of the words, against the "ideal" frequency if this had followed Zipf's law more closely:

![](/static/images/2017/03/Screenshot-from-2017-03-06-14-56-13.png)

What's interesting here is that you see each word used at a higher percentage of the total than you would expect to see.  Here's a chart of the absolute difference in word count from the actual from the ideal.

![](/static/images/2017/03/Screenshot-from-2017-03-06-15-08-20.png)

What jumps right out is that the second through tenth most used words on twitter differ from the Zipf law somewhere in the high to mid 200s.  The 11th word, on, drops this difference by almost 100 more. This shows that the first 10 most popular words on twitter are getting used more often than what the law would state for the language as a whole.

I'm not sure if anything useful can be gathered from this, but it was a fun exercise.  If I were to guess, I would say that the forced brevity causes our language to stick with short, simple, and useful words to express an idea rather than more expressive language.

It is also interesting to see how the word rank of certain words differs from the language as a whole,  here is a chart of the top ten words in English (according to Wikipedia) and the top ten pulled from Twitter:
<table>

<tr>
  <td>Rank</td>
  <td>English Word</td>
  <td>Twitter Word</td>
</tr>

<tr><td>1</td><td>the</td><td> the</td></tr>
<tr><td>2</td><td>be</td><td> to </td></tr>
<tr><td>3</td><td>to</td><td> a</td></tr>
<tr><td>4</td><td>of</td><td> you </td></tr>
<tr><td>5</td><td>and</td><td> i</td></tr>
<tr><td>6</td><td>a</td><td> and </td></tr>
<tr><td>7</td><td>in</td><td> of</td></tr>
<tr><td>8</td><td>that</td><td> is</td></tr>
<tr><td>9</td><td>have</td><td> in</td></tr>
<tr><td>10</td><td>I</td><td> for</td></tr>
</table>
    
It is possibly telling that the word "I" makes the biggest leap in rank on a platform that people use often for self promotion.  Also noteworthy that in the top 50, there's not a single word in there (that I can see at a glance, feel free to correct me), that is not Old English in origin.  It is interesting to me that a language who has been invaded, borrowed, and stolen so much still keeps the nuts of bolts the same. 

As I finish this up, I realized the glaring problem that Wikipedia ranks the verb "to be" as one word, so this would include: are, is, was, etc. Adding these words up, "to be" would have a total of 751 and would actually be in second place.  This certainly skews things a little, but I feel that the overall results end up being close enough to draw the same conclusions
